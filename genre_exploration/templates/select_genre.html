{% extends "layout.html" %}
{% block title %}Select genre{% endblock %}
{% block content %}
    <h3>
        Explore my music taste by genre
    </h3>

    <div>
    <p class="lead">
        1. Use the dropdown menu below to select a
        genre you would like to explore.
    </p>
    <form id="form_range">
    <select name = "genre" id="genre" class="form-control form-control-lg">
        <option value="unknown">
            Selected genre
        </option>
        <option value="christmas">
            christmas
        </option>
        <option value="avant-garde">
            avant-garde
        </option>
        <option value="blues">
            blues
        </option>
        <option value="classical">
            classical
        </option>
        <option value="country">
            country
        </option>
        <option value="electronic">
            electronic
        </option>
        <option value="folk">
            folk
        </option>
        <option value="jazz">
            jazz
        </option>
        <option value="new-age">
            new-age
        </option>
        <option value="rap">
            rap
        </option>
        <option value="rnb">
            rnb
        </option>
    </select>
    </form>

    <br>
    <div class="text-justify lead">
        <p>2. Use the slider to balance how much your preferences are weighted in for the
        recommendations from this genre. You can vary between the most
        popular songs from the genre (left: weight=0) and songs
            from that genre that are very close to your preference (right: weight=1).</p>

        <div class="row text-justify">
            <div class="col-sm">
                <span class="slider-tag text-dark">More popular</span>
            </div>
            <div class="col-sm text-right">
                <span class="slider-tag text-dark">More personalized</span>
            </div>

        </div>
        <input type="range" class="slider_new" min="0" max="1" value=0.5 step="0.1" id="range_slider" name="weight">
        <p><span id="range_value"></span></p>


    </div>

    <div class="text-right">
        <a type="submit" class="btn btn-success" id="action_submit" href="#">
            Continue <i class="fas fa-arrow-right"></i>
        </a>
    </div>
    </div>
{% endblock %}
{% block scripts %}
<script>
    var slider = document.getElementById("range_slider");
    var output = document.getElementById("range_value");
    //output.innerHTML = slider.value;

    slider.oninput = function() {
        //output.innerHTML = this.value;
    };

    $("#action_submit").on( "click", function() {
        $(this).attr("href", "/explore_genre?genre=" + $.trim($("#genre :selected").text()) + "&weight=" + $.trim($("#range_slider").val()));
    });


</script>
{% endblock %}